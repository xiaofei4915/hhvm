Description: Change iconv linking to iconv_hook.
 The iconv library in Debian is called libiconv_hook, so change the CMake
 detection script to account for that.
 Also changed some comments, but there' more to do for sure.
Author: David Mart√≠nez Moreno <ender@debian.org>
Forwarded: no
Last-Update: 2014-07-27

Index: hhvm/CMake/FindLibiconv.cmake
===================================================================
--- hhvm.orig/CMake/FindLibiconv.cmake
+++ hhvm/CMake/FindLibiconv.cmake
@@ -6,7 +6,7 @@
 #
 #  LIBICONV_INCLUDE_DIR - where to find iconv.h, etc.
 #  LIBICONV_LIBRARY     - List of libraries when using libiconv.
-#  LIBICONV_FOUND       - True if libiconv found.
+#  LIBICONV_CONST       - True if 2nd parameter of libiconv's main function is (const char**)
 
 
 IF (LIBICONV_INCLUDE_DIR)
@@ -16,9 +16,9 @@ ENDIF ()
 
 FIND_PATH(LIBICONV_INCLUDE_DIR iconv.h)
 
-FIND_LIBRARY(LIBICONV_LIBRARY iconv)
+FIND_LIBRARY(LIBICONV_LIBRARY iconv_hook)
 
-# handle the QUIETLY and REQUIRED arguments and set Libmemcached_FOUND to TRUE if
+# handle the QUIETLY and REQUIRED arguments and set LIBICONV_FOUND to TRUE if
 # all listed variables are TRUE
 INCLUDE(FindPackageHandleStandardArgs)
 FIND_PACKAGE_HANDLE_STANDARD_ARGS(LIBICONV DEFAULT_MSG LIBICONV_LIBRARY LIBICONV_INCLUDE_DIR)
